name = "icomment"
compatibility_date = "2025-01-16"
main = "functions/_middleware.ts"

[env.production]
vars = { ENV = "production", AUTH_ENABLED = "true", MAX_ATTACHMENT_SIZE = "5242880", RATE_LIMIT_ENABLED = "true", APP_NAME = "Guru", APP_LOGO_URL = "/logo.svg", BRAND_COLOR = "#a855f7" }

[env.development]
vars = { ENV = "development", AUTH_ENABLED = "false", MAX_ATTACHMENT_SIZE = "5242880", RATE_LIMIT_ENABLED = "false", APP_NAME = "Guru", APP_LOGO_URL = "/logo.svg", BRAND_COLOR = "#a855f7" }

# Database bindings (D1)
# Generated by: bun run setup
[[d1_databases]]
binding = "DB"
database_id = "YOUR_DATABASE_ID_HERE"
database_name = "icomment"

# KV namespace bindings (Cache)
# Generated by: bun run setup
[[kv_namespaces]]
binding = "KV"
id = "YOUR_KV_NAMESPACE_ID_HERE"

# R2 bucket bindings (always available)
# Generated by: bun run setup
[[r2_buckets]]
binding = "R2"
bucket_name = "icomment-attachments"
